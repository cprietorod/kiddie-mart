
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Reto 5: Setup Conductor (Task Runner)</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/claat-public/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14" ga4id=""></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  codelab-ga4id=""
                  id="setup-conductor"
                  title="Reto 5: Setup Conductor (Task Runner)"
                  environment="web"
                  feedback-link="https://github.com/cprietorod/kiddie-mart/issues">
    
      <google-codelab-step label="IntroducciÃ³n" duration="1">
        <p>Un <strong>conductor</strong> o <strong>task runner</strong> es una herramienta que simplifica la ejecuciÃ³n de comandos frecuentes en un proyecto. En lugar de recordar <code>npm run dev -- -p 9002</code> o <code>npx next lint</code>, simplemente escribes <code>make dev</code> o <code>make lint</code>.</p>
<p>En este reto, usarÃ¡s Gemini CLI para crear un <code>Makefile</code> que sirva como conductor del proyecto.</p>
<h2 is-upgraded>Lo que aprenderÃ¡s</h2>
<ul>
<li>QuÃ© es un Makefile y por quÃ© es Ãºtil como task runner</li>
<li>CÃ³mo pedir a Gemini CLI que genere herramientas de productividad</li>
<li>CÃ³mo personalizar e iterar sobre archivos de configuraciÃ³n</li>
</ul>
<h2 is-upgraded>Lo que necesitas</h2>
<ul>
<li>Gemini CLI configurado (Retos 1-2)</li>
<li>Familiaridad bÃ¡sica con la terminal</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Â¿Por quÃ© un Makefile?" duration="1">
        <p>Los <code>Makefile</code> son una forma estÃ¡ndar y universal de definir tareas en proyectos de software. Sus ventajas:</p>
<ul>
<li>ğŸ“‹ <strong>Autodocumentados</strong> â€” <code>make help</code> muestra todos los comandos disponibles</li>
<li>ğŸ”§ <strong>Universales</strong> â€” <code>make</code> viene preinstalado en macOS y Linux</li>
<li>ğŸƒ <strong>RÃ¡pidos</strong> â€” no requieren instalar dependencias adicionales</li>
<li>ğŸ“¦ <strong>Composables</strong> â€” puedes combinar varios comandos en un solo target</li>
</ul>
<h2 is-upgraded>Â¿El proyecto ya tiene scripts?</h2>
<p>SÃ­, en <code>package.json</code>:</p>
<pre><code language="language-json" class="language-json">{
  &#34;scripts&#34;: {
    &#34;dev&#34;: &#34;next dev -p 9002&#34;,
    &#34;build&#34;: &#34;next build &amp;&amp; node fix-sw.js&#34;,
    &#34;start&#34;: &#34;next start&#34;,
    &#34;lint&#34;: &#34;next lint&#34;,
    &#34;typecheck&#34;: &#34;tsc --noEmit&#34;
  }
}
</code></pre>
<p>El Makefile serÃ¡ una capa encima de estos scripts que los hace mÃ¡s accesibles y agrega funcionalidad extra.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Generar el Makefile con Gemini CLI" duration="1">
        <p>Pide a Gemini CLI que cree el Makefile:</p>
<pre><code language="language-bash" class="language-bash">gemini &#34;Crea un Makefile para este proyecto Next.js con los siguientes targets:

- make help       â†’ Mostrar todos los targets disponibles con descripciones
- make install    â†’ npm install
- make dev        â†’ npm run dev (servidor de desarrollo en puerto 9002)
- make build      â†’ npm run build
- make lint       â†’ npm run lint
- make typecheck  â†’ npm run typecheck
- make clean      â†’ Eliminar .next y node_modules
- make setup      â†’ Hacer install + verificar que Node.js es &gt;= 18

Cada target debe tener un comentario con ## para que &#39;make help&#39; funcione.
El Makefile debe usar .PHONY para todos los targets.
Incluye un banner colorido en make help con el nombre del proyecto.&#34;
</code></pre>
<h2 is-upgraded>Resultado esperado</h2>
<p>Un archivo <code>Makefile</code> en la raÃ­z del proyecto con todos los targets definidos.</p>
<p>Positive : Si ya existe un Makefile (del paso de preparaciÃ³n del workshop), Gemini lo detectarÃ¡ y te preguntarÃ¡ si quieres reemplazarlo o actualizarlo. Dile que lo reemplace con la versiÃ³n mejorada.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Probar los targets" duration="1">
        <p>Prueba cada target para verificar que funciona:</p>
<pre><code language="language-bash" class="language-bash"># Ver todos los comandos disponibles
make help

# Instalar dependencias (si aÃºn no lo has hecho)
make install

# Verificar tipos
make typecheck

# Ejecutar linter
make lint
</code></pre>
<h2 is-upgraded>Verificar help output</h2>
<p>El output de <code>make help</code> deberÃ­a verse algo asÃ­:</p>
<pre><code>ğŸ›’ Kiddie Mart - Available Commands
======================================
  build          Build the project for production
  clean          Remove build artifacts and node_modules  
  dev            Start development server on port 9002
  help           Show available targets
  install        Install project dependencies
  lint           Run linter
  setup          Full project setup (install + verify)
  typecheck      Run TypeScript type checking
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Agregar targets avanzados" duration="1">
        <p>Ahora pide a Gemini CLI que agregue targets mÃ¡s avanzados:</p>
<pre><code language="language-bash" class="language-bash">gemini &#34;Agrega estos targets adicionales al Makefile existente:

- make dev-open    â†’ Ejecutar dev y abrir el navegador automÃ¡ticamente
- make check-all   â†’ Ejecutar lint + typecheck juntos
- make reset-db    â†’ Borrar datos de IndexedDB (info de cÃ³mo hacerlo)
- make i18n-check  â†’ Verificar que los archivos de traducciÃ³n tienen las 
                     mismas keys (comparar messages/en.json y messages/es.json)

MantÃ©n el formato existente con comentarios ## y .PHONY&#34;
</code></pre>
<p>Positive : Nota cÃ³mo puedes iterar sobre el Makefile pidiendo targets adicionales sin tener que regenerar todo. Gemini entiende el archivo existente y agrega sin romper.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Â¡Felicitaciones!" duration="0">
        <p>ğŸ‰ Â¡Has completado el Reto 5!</p>
<h2 is-upgraded>Lo que aprendiste</h2>
<ul>
<li>CÃ³mo crear herramientas de productividad con AI</li>
<li>QuÃ© es un Makefile y cÃ³mo usarlo como task runner</li>
<li>CÃ³mo iterar y agregar funcionalidad a archivos existentes</li>
</ul>
<h2 is-upgraded>Lo que creaste</h2>
<ul>
<li><code>Makefile</code> con targets para todas las tareas comunes del proyecto</li>
</ul>
<h2 is-upgraded>Siguiente paso</h2>
<p>ContinÃºa con el <strong>Reto 6: Instalar el Proyecto</strong> para poner la app en marcha.</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/claat-public/native-shim.js"></script>
  <script src="https://storage.googleapis.com/claat-public/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/claat-public/prettify.js"></script>
  <script src="https://storage.googleapis.com/claat-public/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
